<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="SXS Collaboration">
    <meta name="generator" content="Doxygen 1.8.13"/>
    <style>
        /*!
         * IE10 viewport hack for Surface/desktop Windows 8 bug
         * Copyright 2014-2015 Twitter, Inc.
         * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
         */
        @-webkit-viewport { width: device-width; }
        @-moz-viewport    { width: device-width; }
        @-ms-viewport     { width: device-width; }
        @-o-viewport      { width: device-width; }
        @viewport         { width: device-width; }
      </style>
  <title>SpECTRE: Travis CI</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js", "color.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
MathJax.Hub.Config({
    TeX: { equationNumbers: { autoNumber: "AMS" } }
});
MathJax.Hub.Config({
    tex2jax: {inlineMath: [['^^','^^'], ['\\(', '\\)']]}
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
  <link href="octicons.css" rel="stylesheet">
  <link href="bootstrap.min.css" rel="stylesheet">
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="bootstrap.min.js"></script>
  <script type="text/javascript" src="spectre.js"></script>
  </head>
  <body>
  <div id="top" class="navbar-fixed-top"><!-- do not remove this div, it is closed by doxygen! -->
  <!-- BEGIN TITLEAREA -->
  <div id="titlearea">
  <script type="text/javascript">
  var searchBox = new SearchBox("searchBox", "search",false,'Search');
  </script>
  <div id="main-nav">
    <ul class="sm sm-dox" id="main-menu">
      <li>
      <a href="index.html">
      SpECTRE &#160;
        <span id="projectnumber">v0.0.0</span>
      </a>
      </li>
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="selected">
          <span id="selected">
            <i class="octicon octicon-book"></i><span>Documentation</span>
          </span>
          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li style="min-width: 135px;">
            <a href="index.html">
            <i class="octicon octicon-book"></i><span>Introduction</span></a>
          </li>
          <li style="min-width: 135px;">
            <a href="installation.html">
              <i class="octicon octicon-desktop-download"></i><span>Installation</span>
            </a>
          </li>
          <li style="min-width: 135px;">
            <a href="tutorials.html">
              <i class="octicon octicon-mortar-board"></i><span>User Tutorials</span>
            </a>
          </li>
          <li style="min-width: 135px;">
            <a href="dev_guide.html">
              <i class="octicon octicon-gist-secret"></i><span>Dev Guide</span>
            </a>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="selected">
          <span id="selected">
            <i class="octicon octicon-code"></i>
              <span>Reference</span>
          </span>
          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li style="min-width: 130px;">
            <a href="modules.html">
              <i class="octicon octicon-code"></i>
              <span>Topics</span>
            </a>
          </li>
          <li style="min-width: 130px;">
            <a href="namespaces.html">
              <i class="octicon octicon-gist"></i>
              <span>Namespaces</span>
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="files.html">
          <i class="octicon octicon-file-directory"></i><span>Files</span>
        </a>
      </li>
      <li>
        <a href="https://github.com/sxs-collaboration/spectre" target="_blank">
          <i class="octicon octicon-mark-github"></i><span>View on GitHub</span>
        </a>
      </li>
      <!--The Search <li> is added by doxygen later-->
    </ul>
  </div><!-- main-nav -->
  </div><!-- titlearea -->
  <!-- window showing the filter options -->
  <div id="MSearchSelectWindow"  style="position: fixed;"
       onmouseover="return searchBox.OnSearchSelectShow()"
       onmouseout="return searchBox.OnSearchSelectHide()"
       onkeydown="return searchBox.OnSearchSelectKey(event)">
  </div>
  <!-- iframe showing the search results (closed by default) -->
  <div id="MSearchResultsWindow"  style="position: fixed;">
  <iframe src="javascript:void(0)" frameborder="0"
          name="MSearchResults" id="MSearchResults">
  </iframe>
  </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Travis CI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>SpECTRE uses <a href="https://travis-ci.org/sxs-collaboration/spectre">TravisCI</a> for testing the code. Multiple build jobs (described below) are launched each time a pull request is submitted or updated. In addition, a daily cron job is run. Travis will also launch these build jobs each time you push to a branch on your fork of SpECTRE if you enable it. (Go to Travis, click on your name in the upper right corner, and then towards the bottom, enable testing on your fork of SpECTRE.)</p>
<p>For pull requests, you can view the Travis CI build by clicking on <code>Details</code> next to the <code>Travis build failed</code> or <code>Travis build succeeded</code> in the section for <code>All checks have failed</code> or <code>All checks have passed</code> towards the bottom of the pull request. You can login to Travis using your GitHub credentials in order to cancel your builds, and you should do so if you update your pull request while it is building.</p>
<h2>What is tested</h2>
<p>The Travis report lists the build jobs which will each have either a green check mark if it passes, a red <code>X</code> if it has failed, or a yellow binary if the build is in progress. Clicking on a build job will display the log of the build.</p>
<p>The following build jobs are launched:</p><ul>
<li>CHECK_COMMITS runs the script <code>tools/CheckCommits.sh</code> and fails the build if any casing of the words in the list below is the first word of the commit message. This allows developers to flag their commits with these keywords to indicate that a pull request should not be merged in its current state.<ul>
<li>fixup</li>
<li>wip (for work in progress)</li>
<li>fixme</li>
<li>deleteme</li>
<li>rebaseme</li>
<li>testing</li>
<li>rebase</li>
</ul>
</li>
<li>CHECK_FILES runs the script <code>tools/CheckFiles.sh</code> (which also runs the script <code>tools/FileTestDefs.sh</code>) and fails the build if any of the following checks are true:<ul>
<li>A <code>c++</code> file (i.e. <code>*.hpp</code>, <code>*.cpp</code>, or <code>*.tpp</code> file) contains a line over 80 characters</li>
<li>A file contains a tab character</li>
<li>A file has white space at the end of the line</li>
<li>A file has a carriage return character</li>
<li>A file is missing the license line</li>
<li>A <code>*.hpp</code> file is missing <code>pragma once</code></li>
<li>A file does not end with a newline</li>
<li>A <code>c++</code> file includes any of the following headers<ul>
<li><code>&lt;iostream&gt;</code> (useless when running in parallel)</li>
<li><code><a class="el" href="TmplDebugging_8hpp.html" title="Defines class TypeDisplayer. ">Utilities/TmplDebugging.hpp</a></code> (used only for debugging)</li>
</ul>
</li>
<li>A <code>c++</code> file contains a <code>namespace</code> ending in <code>_details</code> (use <code>_detail</code>)</li>
<li>A <code>c++</code> file contains a <code>struct TD</code> or <code>class TD</code> (used only for debugging)</li>
<li>A <code>c++</code> file contains <code><a class="elRef" doxygen="/work/spectre/docs/config/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/types/enable_if.html">std::enable_if</a></code> (use <code>Requires</code> instead)</li>
<li>A <code>c++</code> file contains additional text after <code>/*!</code> (does not render correctly in doxygen)</li>
<li>A <code>c++</code> file contains <code>Ls</code> (use <code>List</code> instead)</li>
<li>A <code>c++</code> test uses either:<ul>
<li><code>TEST_CASE</code> (use <code>SPECTRE_TEST_CASE</code> instead)</li>
<li><code>Approx</code> (use <code>approx</code> instead)</li>
</ul>
</li>
</ul>
</li>
<li>RUN_CLANG_TIDY runs the script <code>.travis/RunClangTidy.sh</code> which runs <code>clang-tidy</code> on all files which were modified. This is done for both <code>Release</code> and <code>Debug</code> builds.</li>
<li>TEST_CHECK_FILES runs <code>tools/CheckFiles.sh --test</code> which tests the checks performed in the CHECK_FILES build.</li>
<li>The other builds compile the code and run the tests for both <code>Release</code> and <code>Debug</code> builds, for the <code>gcc</code> and <code>clang</code> compilers using a Linux OS, and the <code>AppleClang</code> compiler for <code>OS X</code>.</li>
<li>The <code>gcc Debug</code> build will fail if there are <code>doxygen</code> warnings.</li>
</ul>
<h2>How to perform the checks locally</h2>
<p>Before pushing to GitHub and waiting for Travis to perform the checks it is useful to perform at least the following tests locally:</p><ul>
<li><b>Unit tests:</b> Perform a <code>make test-executables</code> and then execute <code>ctest</code> to run all unit tests. As for <code>make</code> you can append a <code>-jN</code> flag to <code>ctest</code> to run in parallel on <code>N</code> cores. To run only a subset of the tests you can use one of the other keywords that the tests are labeled with, such as <code>ctest -L datastructures</code>. To run only particular tests you can also execute <code>ctest -R TEST_NAME</code> instead, where <code>TEST_NAME</code> is a regular expression matching the test identifiers such as <code>Unit.DataStructures.Mesh</code>. Pass the flag <code>--output-on-failure</code> to get output from failed tests. Consult <code>ctest -h</code> for further options.</li>
<li><b>clang-tidy:</b> In a clang build directory, run <code>make clang-tidy FILE=SOURCE_FILE</code> where <code>SOURCE_FILE</code> is a relative or absolute path to a <code>.cpp</code> file. To perform this check for all source files that changed in your pull request, <code>make clang-tidy-hash HASH=UPSTREAM_HEAD</code> where <code>UPSTREAM_HEAD</code> is the hash of the commit that your pull request is based on, usually the <code>HEAD</code> of the <code>upstream/develop</code> branch.</li>
<li><b>IWYU:</b> Also just for the changed files in a pull request run <code>make iwyu-hash HASH=UPSTREAM_HEAD</code>. Since IWYU requires <code>USE_PCH=OFF</code> you can create a separate build directory and append <code>-D USE_PCH=OFF</code> to the usual <code>cmake</code> call. Note that it is very easy to incorrectly install IWYU (if not using the Docker container) and generate nonsense errors.</li>
</ul>
<h2>Travis setup</h2>
<ul>
<li>The <code>gcc Debug</code> build runs code coverage for each Travis build.</li>
</ul>
<h2>Troubleshooting</h2>
<ul>
<li>Occasionally, a build job will fail because of a problem with Travis (e.g. it times out). Clicking on the circular arrow icon on the far right of the build job will restart it. All build jobs can be restarted by clicking on the <code>Restart build</code> button to the right of the pull request description.</li>
<li>Travis caches some things between builds. Occasionally this may cause a problem leading to strange build failures. If you suspect this may be the case, get a SpECTRE owner to click on the <code>More options</code> button in the top right, choose <code>Caches</code> and delete the cache for your pull request. </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
&copy; Copyright 2017 - 2018
<a href="https://black-holes.org">SXS Collaboration</a>,
<a href="LICENSE.txt" target="_blank">
<span class="hidden-xs">Distributed under the</span>
MIT License</a>
</small></address>
</body>
</html>
